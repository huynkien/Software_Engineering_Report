\subsection{Quản lý tài liệu}

\begin{figure}[H]
    \centering
    \includegraphics[width=1\linewidth]{graphics/ClassDiagram/Library/Class_diagram_ManageDoc.png}
    \caption{Sơ đồ lớp cho use-case Quản lý tài liệu}
    \label{fig:LibraryClassDiagram}
\end{figure}

\subsection*{Mô tả sơ đồ lớp: Quản lý tài liệu}
\begin{itemize}
    \item Sơ đồ lớp mô tả các thành phần chính của hệ thống quản lý tài liệu, bao gồm các lớp thuộc API Endpoints, API Schemas, Services, Domain Model và Repositories.

    \item \textbf{API Endpoints:} Các điểm truy cập RESTful ứng với các hành động của việc quản lý tài liệu:
    \begin{itemize}

        \item \texttt{UploadEndpoint}: thực hiện việc gửi yêu cầu tải lên về phía hệ thống.
        \item \texttt{SearchViewEndpoint}: thực hiện việc gửi yêu cầu tìm kiếm, lọc, chọn và xem tài liệu về hệ thống, hiển thị kết quả tìm kiếm và bản xem trước của tài liệu.
        \item \texttt{DownloadEndpoint}: thực hiện việc gửi yêu cầu tải về về phía hệ thống.
    \end{itemize}

    \item \textbf{API Schemas:}
    \begin{itemize}
        \item Định nghĩa các lớp dữ liệu trao đổi giữa client và server như \texttt{FindFileRequest}, \texttt{FindFileResponse}, \texttt{AnnounceResponse}, \texttt{UploadRequest}, \texttt{DownloadResponse}.
        \item Các lớp \texttt{FileInterface} và \texttt{Metadata} mô tả thông tin file và metadata liên quan.
        \item Các lớp này giúp chuẩn hóa dữ liệu đầu vào/đầu ra cho các endpoint.
    \end{itemize}

    \item \textbf{Services:} Tầng điều phối các yêu cầu từ người dùng, bao gồm:
    \begin{itemize}
        \item \texttt{UploadService}: điều phối yêu cầu tải lên từ người dùng
        \item \texttt{SearchViewService}: điều phối các yêu cầu tìm kiếm, lọc và xem tài liệu
        \item \texttt{DownloadService}: điều phối các yêu cầu tải xuống tài liệu.
    \end{itemize}

    \item \textbf{Domain Model:} Đây là các lớp trung tâm biểu diễn dữ liệu và các thuộc tính quan trọng của tài liệu trong hệ thống, đảm bảo tính nhất quán và hỗ trợ các thao tác nghiệp vụ.
    \begin{itemize}
        \item \texttt{FileInterface}:chứa các thông tin liên quan đến việc đại diện, nhận diện và quyền của tài liệu trong hệ thống.
        \item \texttt{Metadata}: các thông tin chi tiết về tài liệu đê lưu trên hệ cơ sở dữ liệu. Dùng để quản lý vòng đời và truy xuất tài liệu.
    \end{itemize}

    \item \textbf{Repositories:}
    \begin{itemize}
        \item Lớp \texttt{ManageDocRepo} có các hàm bao bọc các hàm tương ứng của cơ sở dữ liệu và kho lưu trữ tài liệu.
        \item Cung cấp các phương thức lưu, truy xuất và tải file từ kho lưu trữ và cơ sở dữ liệu thông qua các hàm bao bọc.
    \end{itemize}

    \item \textbf{Luồng xử lý:}
    \begin{itemize}
        \item Các \texttt{API Endpoints} thực hiện gửi request từ người dùng đến hệ thông, sau đó dựa vào yêu cầu tương ứng mà gọi trực tiếp các \texttt{Service} để xử lý logic nghiệp vụ.
        \item Các \texttt{Service} này sử dụng các phương thức của \texttt{Repositories} để truy xuất hoặc cập nhật dữ liệu trong cơ sở dữ liệu và kho lưu trữ.
        \item \texttt{Domain Model} liên kết chặt chẽ với các repository, định nghĩa các thực thể và hành vi xử lý nội bộ dữ liệu.
        \item Các lớp dữ liệu (\texttt{API Schemas}) được sử dụng để trao đổi thông tin giữa người dùng và hệ thống, đồng thời làm cầu nối giữa các tầng của hệ thống.
    \end{itemize}
\end{itemize}
\newpage

